!function(t){"use strict";var e=t("#offerCountDown"),o=e.attr("data-day"),n=e.attr("data-hour"),a=e.attr("data-minute"),i=e.attr("data-second");function s(e,o,n,a){const i={item:o,item_id:n,status:a};t.post("/course/"+e+"/learningStatus",i,(function(e){t.toast({heading:"",text:learningToggleLangSuccess,bgColor:"#43d477",textColor:"white",hideAfter:1e4,position:"bottom-right",icon:"success"})})).catch((e=>{t.toast({heading:"",text:learningToggleLangError,bgColor:"#f63c3c",textColor:"white",hideAfter:1e4,position:"bottom-right",icon:"error"})}))}function r(e,o){t.toast({heading:e,text:o,bgColor:"#f63c3c",textColor:"white",hideAfter:1e4,position:"bottom-right",icon:"error"})}e.countdown100({endtimeYear:0,endtimeMonth:0,endtimeDate:o,endtimeHours:n,endtimeMinutes:a,endtimeSeconds:i,timeZone:""}),t(".barrating-stars select").each((function(e,o){var n=t(o);n.barrating({theme:"css-stars",readonly:!1,initialRating:n.data("rate")})})),t("body").on("click","#webinarDemoVideoBtn",(function(e){e.preventDefault();let o=t(this).attr("data-video-path"),n=t(this).attr("data-video-type"),a='<div id="webinarDemoVideoModal" class="demo-video-modal">\n<h3 class="section-title after-line font-20 text-dark-blue">'+webinarDemoLang+'</h3>\n<div class="mt-25">\n<video class="img-cover rounded-sm" controls>\n<source src="'+o+'" type="'+n+'">\n</video>\n</div>\n</div>';Swal.fire({html:a,showCancelButton:!1,showConfirmButton:!1,customClass:{content:"p-0 text-left"},width:"48rem"})})),t("body").on("click","#webinarReportBtn",(function(e){e.preventDefault();let o=t("#webinarReportModal").html();Swal.fire({html:o,showCancelButton:!1,showConfirmButton:!1,customClass:{content:"p-0 text-left"},width:"48rem"})})),t("body").on("click",".js-course-report-submit",(function(e){e.preventDefault();const o=t(this),n=o.closest("form"),a=n.attr("action"),i=n.serializeObject();o.addClass("loadingbar primary").prop("disabled",!0),n.find(".invalid-feedback").text(""),n.find(".is-invalid").removeClass("is-invalid"),t.post(a,i,(function(t){t&&200===t.code?(Swal.fire({icon:"success",html:'<h3 class="font-20 text-center text-dark-blue">'+reportSuccessLang+"</h3>",showConfirmButton:!1}),setTimeout((()=>{window.location.reload()}),2e3)):t&&401===t.code&&Swal.fire({icon:"error",html:'<h3 class="font-20 text-center text-dark-blue">'+reportFailLang+"</h3>",showConfirmButton:!1})})).fail((t=>{o.removeClass("loadingbar primary").prop("disabled",!1);var e=t.responseJSON;e&&e.errors&&Object.keys(e.errors).forEach((t=>{const o=e.errors[t];let a=n.find('[name="'+t+'"]');a.addClass("is-invalid"),a.parent().find(".invalid-feedback").text(o[0])}))}))})),t("body").on("change",'input[name="ticket_id"]',(function(e){e.preventDefault();const o=t(this).attr("data-discount"),n=t("#realPrice"),a=t("#priceWithDiscount"),i=Number(n.attr("data-value")),s=Number(n.attr("data-special-offer")),r=i*(Number(o)+s)/100;n.addClass("font-20 text-gray text-decoration-line-through mr-15"),a.text("$"+(i-r))})),t("body").on("click","#favoriteToggle",(function(e){e.preventDefault(),e.stopPropagation();const o=t(this).attr("href"),n=t(this).find("svg");n.hasClass("favorite-active")?n.removeClass("favorite-active"):n.addClass("favorite-active"),t.get(o,(function(t){}))})),t("body").on("click",".js-share-course",(function(e){e.preventDefault(),Swal.fire({html:t("#courseShareModal").html(),showCancelButton:!1,showConfirmButton:!1,customClass:{content:"p-0 text-left"},onOpen:()=>{t('[data-toggle="tooltip"]').tooltip()},width:"32rem"})})),t("body").on("click",".js-course-share-link-copy",(function(e){var o;e.preventDefault(),t(this).attr("data-original-title",copiedLang).tooltip("show"),t(this).attr("data-original-title",copyLang),o=t("<input>"),t("body").append(o),o.css("position","absolute"),o.val(t(".js-course-share-link").html()).select(),document.execCommand("copy"),o.remove()})),t("body").on("change",".js-file-learning-toggle",(function(e){const o=t(this);s(o.val(),"file_id",o.attr("data-file-id"),this.checked)})),t("body").on("change",".js-text-lesson-learning-toggle",(function(e){const o=t(this);s(o.val(),"text_lesson_id",o.attr("data-lesson-id"),this.checked)})),t("body").on("change",".js-text-session-toggle",(function(e){const o=t(this);s(o.val(),"session_id",o.attr("data-session-id"),this.checked)})),t("body").on("click",".not-login-toast",(function(t){t.preventDefault(),notLoginToastTitleLang&&notLoginToastMsgLang&&r(notLoginToastTitleLang,notLoginToastMsgLang)})),t("body").on("click",".not-access-toast",(function(t){t.preventDefault(),notAccessToastTitleLang&&notAccessToastMsgLang&&r(notAccessToastTitleLang,notAccessToastMsgLang)})),t("body").on("click",".can-not-try-again-quiz-toast",(function(t){t.preventDefault(),canNotTryAgainQuizToastTitleLang&&canNotTryAgainQuizToastMsgLang&&r(canNotTryAgainQuizToastTitleLang,canNotTryAgainQuizToastMsgLang)})),t("body").on("click",".can-not-download-certificate-toast",(function(t){t.preventDefault(),canNotDownloadCertificateToastTitleLang&&canNotDownloadCertificateToastMsgLang&&r(canNotDownloadCertificateToastTitleLang,canNotDownloadCertificateToastMsgLang)})),t("body").on("click",".session-finished-toast",(function(t){t.preventDefault(),sessionFinishedToastTitleLang&&sessionFinishedToastMsgLang&&r(sessionFinishedToastTitleLang,sessionFinishedToastMsgLang)}));var d=void 0;t("body").on("click",".js-play-video",(function(e){e.preventDefault(),t("#my-video").length&&d.dispose();const o=t("#playVideo"),n=o.find(".loading-img"),a=o.find(".js-modal-video-content");n.removeClass("d-none"),a.addClass("d-none");const i=t(this).attr("data-id"),s=t(this).closest(".accordion-row").find(".file-title").text();o.find(".section-title").text(s),t(".modal-content").removeClass("full_modal-content"),t(".modal-dialog").removeClass("full_modal-dialog"),t.post("/course/getFilePath",{file_id:i},(function(e){if(e&&200===e.code){const i=e.storage,s=e.type;n.addClass("d-none"),a.removeClass("d-none");let r=!1;t(".modal-content").find("iframe").remove(),t(".modal-content").find(".img-visor").remove();let l="";if("local"!==i||"mp4"!=s&&"mkv"!=s&&"avi"!=s)if("online"===i&&"video"==s){let t="vimeo"==e.storageService?', "vimeo": { "ytControls": 2 }':"";l=`\n                     <video\n                        id="my-video"\n                        class="video-js"\n                        controls\n                        preload="auto"\n                        autoplay\n                        width="870" height="600"\n                        data-setup='{ "techOrder": ["${e.storageService}"], "sources": [{ "type": "video/${e.storageService}", "src": "${e.path}"}] ${t}  }'\n                        >\n                     </video>\n                    `,r=!0}else if("local"!==i||"docx"!=s&&"doc"!=s&&"xls"!=s&&"xlsx"!=s&&"ppt"!=s&&"pptx"!=s)"jpg"==s||"jpeg"==s||"png"==s?t(".modal-content").append(`<div class="img-visor d-flex justify-content-center"><img src="${e.path}" ></div>`):"pdf"==s&&(t(".modal-content").addClass("full_modal-content"),t(".modal-dialog").addClass("full_modal-dialog"),t(".modal-content").append(`<iframe src="https://docs.google.com/gview?url=${e.path}&embedded=true" frameborder="0">\n                        </iframe>`));else{var o=encodeURIComponent(e.path);t(".modal-content").append(`<iframe src='https://view.officeapps.live.com/op/embed.aspx?src=${o}' width='100%' height='100%' frameborder='0'>This is an embedded <a target='_blank' href='http://office.com'>Microsoft Office</a> document, powered by <a target='_blank' href='http://office.com/webapps'>Office Online</a>.</iframe>`),t(".modal-content").addClass("full_modal-content"),t(".modal-dialog").addClass("full_modal-dialog")}else l='<video id="my-video" class="video-js" controls autoplay preload="auto" width="870" height="600"><source src="'+e.path+'" type="video/'+s+'"/></video>',r=!0;if(a.html(l),r){d=videojs("my-video",{autoplay:1,preload:"auto"})}}else t.toast({heading:notAccessToastTitleLang,text:notAccessToastMsgLang,bgColor:"#f63c3c",textColor:"white",hideAfter:1e4,position:"bottom-right",icon:"error"})})).fail((e=>{t.toast({heading:notAccessToastTitleLang,text:notAccessToastMsgLang,bgColor:"#f63c3c",textColor:"white",hideAfter:1e4,position:"bottom-right",icon:"error"})})),t("#playVideo").on("hidden.bs.modal",(function(){t("#my-video").length&&(d.pause(),d.dispose()),t(".modal-content").find("iframe").length&&t(".modal-content").find("iframe").remove(),t(".modal-content").find(".img-visor").length&&t(".modal-content").find(".img-visor").remove()}))}))}(jQuery);